<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tagebuch - PC-Notizbuch</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ===== NAVIGATION ===== -->
    <nav>
        <h1>ğŸ“” Tagebuch</h1>
        <div class="nav-links">
            <a href="index.html">Start</a>
            <a href="pctipps.html">PC-Tipps</a>
            <a href="rocketleague.html">Rocket League</a>
            <a href="steinlabor.html">Steinlabor</a>
            <a href="minecraft.html">Minecraft</a>
            <a href="programmierlabor.html">Programmierlabor</a>
            <a href="tagebuch.html" class="active">Tagebuch</a>
        </div>
    </nav>

    <!-- ===== HAUPTINHALT ===== -->
    <div class="container">
        <!-- Tagebuch-Header (OHNE Hintergrund-Box) -->
        <div style="text-align: center; margin-bottom: 30px;">
            <h2 style="color: var(--orange); margin-bottom: 10px;">âœï¸ Dein persÃ¶nliches Tagebuch</h2>
            <p style="color: var(--text-dim);">Schreibe hier deine Gedanken, Erlebnisse und Ideen auf</p>
        </div>

        <!-- Tagebuch-Eingabebereich -->
        <div class="card">
            <div class="diary-entry-form">
                <label for="diary-date">ğŸ“… Datum:</label>
                <input type="date" id="diary-date">
                
                <label for="diary-title">ğŸ“Œ Ãœberschrift:</label>
                <input type="text" id="diary-title" placeholder="z.B. Mein Tag heute...">
                
                <label for="diary-text">ğŸ“ Dein Eintrag:</label>
                <textarea id="diary-text" rows="8" placeholder="Schreibe hier deine Gedanken..."></textarea>
                
                <button onclick="saveDiaryEntry()" class="btn">ğŸ’¾ Eintrag speichern</button>
            </div>
        </div>

        <!-- Gespeicherte EintrÃ¤ge -->
        <div class="card">
            <h3>ğŸ“– Deine EintrÃ¤ge</h3>
            <div id="diary-entries" class="diary-entries-list">
                <p style="color: var(--text-dim); text-align: center;">
                    Noch keine EintrÃ¤ge vorhanden. Schreibe deinen ersten Eintrag! âœï¸
                </p>
            </div>
        </div>
    </div>

    <!-- ===== SCRIPTS ===== -->
    <script src="global-progress.js"></script>
    <script>
        // ===== TAGEBUCH FUNKTIONALITÃ„T =====
        
        // Beim Laden: Heutiges Datum setzen
        document.getElementById('diary-date').valueAsDate = new Date();
        
        // EintrÃ¤ge aus localStorage laden
        function loadDiaryEntries() {
            const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
            const container = document.getElementById('diary-entries');
            
            if (entries.length === 0) {
                container.innerHTML = '<p style="color: var(--text-dim); text-align: center;">Noch keine EintrÃ¤ge vorhanden. Schreibe deinen ersten Eintrag! âœï¸</p>';
                return;
            }
            
            // Neueste EintrÃ¤ge zuerst
            entries.reverse();
            
            container.innerHTML = entries.map((entry, index) => `
                <div class="diary-entry-card">
                    <div class="diary-entry-header">
                        <span class="diary-entry-date">ğŸ“… ${entry.date}</span>
                        <button onclick="deleteDiaryEntry(${entries.length - 1 - index})" class="btn-delete">ğŸ—‘ï¸ LÃ¶schen</button>
                    </div>
                    <h4 class="diary-entry-title">${entry.title}</h4>
                    <p class="diary-entry-text">${entry.text.replace(/\n/g, '<br>')}</p>
                </div>
            `).join('');
        }
        
        // Neuen Eintrag speichern
        function saveDiaryEntry() {
            const date = document.getElementById('diary-date').value;
            const title = document.getElementById('diary-title').value.trim();
            const text = document.getElementById('diary-text').value.trim();
            
            // Validierung
            if (!date) {
                alert('âš ï¸ Bitte wÃ¤hle ein Datum!');
                return;
            }
            if (!title) {
                alert('âš ï¸ Bitte gib eine Ãœberschrift ein!');
                return;
            }
            if (!text) {
                alert('âš ï¸ Bitte schreibe einen Text!');
                return;
            }
            
            // Eintrag erstellen
            const entry = {
                date: date,
                title: title,
                text: text,
                timestamp: Date.now()
            };
            
            // Zu bestehenden EintrÃ¤gen hinzufÃ¼gen
            const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
            entries.push(entry);
            localStorage.setItem('diaryEntries', JSON.stringify(entries));
            
            // Formular zurÃ¼cksetzen
            document.getElementById('diary-title').value = '';
            document.getElementById('diary-text').value = '';
            document.getElementById('diary-date').valueAsDate = new Date();
            
            // Anzeige aktualisieren
            loadDiaryEntries();
            
            alert('âœ… Eintrag gespeichert!');
        }
        
        // Eintrag lÃ¶schen
        function deleteDiaryEntry(index) {
            if (!confirm('ğŸ—‘ï¸ Diesen Eintrag wirklich lÃ¶schen?')) {
                return;
            }
            
            const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
            entries.splice(index, 1);
            localStorage.setItem('diaryEntries', JSON.stringify(entries));
            
            loadDiaryEntries();
        }
        
        // Beim Laden: EintrÃ¤ge anzeigen
        loadDiaryEntries();
    </script>
</body>
</html>
